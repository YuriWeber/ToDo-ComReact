(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{13:function(t,e,c){},15:function(t,e,c){"use strict";c.r(e);var a=c(1),o=c.n(a),n=c(6),r=c.n(n),i=c(8),s=c(2),l=(c(13),c(0));function u(t){var e=t.localSave,c=t.createBlock;return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("h1",{children:"To Do"}),Object(l.jsx)("h2",{className:"unsaved",children:"*"})]}),Object(l.jsxs)("div",{className:"header-buttons",children:[Object(l.jsx)("button",{className:"new-block",onClick:function(){return c()},children:"Novo Bloco"}),Object(l.jsx)("button",{className:"save-blocks",onClick:function(){return e()},children:"Salvar"})]})]})}function d(t,e){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){var a=t.target?t.target:t;if(c)return a.scrollHeight;a.style.height="".concat(e,"px"),a.style.height="".concat(a.scrollHeight-e/4,"px")}}var h=c(7);function f(t){var e=t.todo,c=t.updateCheckData,o=t.updateTextData,n=t.deleteTodo,r=Object(a.useState)(0),i=Object(s.a)(r,2),u=i[0],f=i[1];return Object(a.useEffect)((function(){f(document.querySelector("#todo".concat(e.id," textarea")).scrollHeight)}),[]),Object(l.jsxs)("div",{className:"todo-content",style:e.check?{opacity:.5}:{opacity:1},id:"todo".concat(e.id),children:[Object(l.jsx)("input",{type:"checkbox",className:"todo-check",defaultChecked:e.check,onChange:function(t){return function(t){var a=t.parentElement;t.checked?a.style.opacity=.5:a.style.opacity=1,c(e.id)}(t.target)}}),Object(l.jsx)("textarea",{className:"todo-text",rows:"1",maxLength:"300",defaultValue:e.text,spellCheck:"false",onChange:function(t){d(t,16),o(e.id,t.target.value)},style:{height:"".concat(u-4,"px")}}),Object(l.jsx)("h2",{className:"todo-delete",onClick:function(){return n(e.id)},children:Object(l.jsx)(h.a,{})})]})}function j(t){var e=t.block,c=t.data,o=t.setData,n=Object(a.useState)(0),r=Object(s.a)(n,2),i=r[0],u=r[1];Object(a.useEffect)((function(){u(document.querySelector("#block".concat(e.id," textArea")).scrollHeight)}),[]);var h={opacity:1};function j(t){var e=c.map((function(e){return e.todo.map((function(e){return e.id===t&&(e.check=!e.check),e})),e}));o(e)}function b(t,e){var a=c.map((function(c){return c.todo.map((function(c){return c.id===t&&(c.text=e),c})),c}));o(a)}function x(t){var e=c.map((function(e){return e.todo.map((function(c){if(c.id===t){var a=e.todo.indexOf(c);e.todo.splice(a,1)}return c})),e}));o(e)}return h=e.todo.length>0?e.todo.map((function(t){return t.check})).includes(!1)?{opacity:1}:{opacity:.5}:{opacity:1},Object(l.jsxs)("div",{className:"block",id:"block".concat(e.id),style:h,children:[Object(l.jsxs)("header",{className:"block-header",children:[Object(l.jsx)("textarea",{className:"block-title",spellCheck:"false",defaultValue:e.title,maxLength:"100",onChange:function(t){!function(t){var a=c.map((function(c){return c.id===e.id&&(c.title=t),c}));o(a)}(t.target.value),d(t,48)},style:{height:"".concat(i-12,"px")}}),Object(l.jsx)("h2",{className:"block-delete",onClick:function(){return function(t){var e=c.filter((function(e){return e.id!==t}));o(e)}(e.id)},children:"X"})]}),Object(l.jsxs)("div",{className:"block-content",children:[e.todo.map((function(t){return Object(l.jsx)(f,{todo:t,updateCheckData:j,updateTextData:b,deleteTodo:x},t.id)})),Object(l.jsx)("button",{className:"new-todo",onClick:function(){return function(){var t={text:"",check:!1,id:Math.floor(1e4*Math.random())},a=c.map((function(c){return c.id===e.id&&c.todo.push(t),c}));o(a)}()},children:"Novo To Do"})]})]})}function b(t){var e=t.data,c=t.setData;return Object(l.jsx)("section",{className:"blocks-container",children:e.map((function(t){return Object(l.jsx)(j,{block:t,data:e,setData:c},t.id)}))})}var x=function(){var t=Object(a.useState)([]),e=Object(s.a)(t,2),c=e[0],o=e[1],n=function(){return document.querySelector(".header .unsaved")},r=Object(a.useRef)(2);return Object(a.useEffect)((function(){var t=localStorage.getItem("blocksData");if(!t)return localStorage.setItem("blocksData","[]");n().style.opacity=0;var e=JSON.parse(t);o(e)}),[]),Object(a.useEffect)((function(){r.current>0?r.current-=1:n().style.opacity=1}),[c]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u,{localSave:function(){localStorage.setItem("blocksData",JSON.stringify(c)),n().style.opacity=0},createBlock:function(){var t=Math.floor(1e4*Math.random());o([].concat(Object(i.a)(c),[{title:"Novo Bloco",todo:[],id:t}]))}}),Object(l.jsx)(b,{data:c,setData:o})]})};r.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.549b44f3.chunk.js.map