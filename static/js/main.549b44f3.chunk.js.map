{"version":3,"sources":["scripts/Header.js","scripts/utility/resize.js","scripts/Todo.js","scripts/Block.js","scripts/Blocks.js","App.js","index.js"],"names":["Headers","localSave","createBlock","className","onClick","resize","event","height","load","target","scrollHeight","style","Todo","todo","updateCheckData","updateTextData","deleteTodo","useState","setScrollHeight","useEffect","document","querySelector","id","check","opacity","type","defaultChecked","onChange","parent","parentElement","checked","checkBox","rows","maxLength","defaultValue","text","spellCheck","value","Block","block","data","setData","complete","newData","map","item","newText","index","indexOf","splice","length","includes","title","newTitle","updateTitleData","filter","deleteBlock","Math","floor","random","push","newTodo","Blocks","App","unsaved","firstUpdate","useRef","storage","localStorage","getItem","setItem","JSON","parse","current","stringify","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.549b44f3.chunk.js","sourcesContent":["export default function Headers({localSave, createBlock}) {\n    return (\n        <header className=\"header\">\n            <div className=\"title\">\n                <h1>To Do</h1>\n                <h2 className=\"unsaved\">*</h2>\n            </div>\n            <div className=\"header-buttons\">\n                <button className=\"new-block\" onClick={() => (createBlock())}>Novo Bloco</button>\n                <button className=\"save-blocks\" onClick={() => (localSave())}>Salvar</button>\n            </div>\n            \n        </header>\n    )\n}","export default function resize(event, height, load=false) {\n    // função para alterar automaticamente o tamanho dos textarea\n    if (event) {\n        const target = event.target ? event.target : event\n        if (!load) {\n            target.style.height = `${height}px`\n            target.style.height = `${target.scrollHeight-(height/4)}px` // divisão para não sobrar espaço em baixo\n        } else {\n            return target.scrollHeight\n        }\n    }\n}","import resize from \"./utility/resize.js\"\nimport { FaTrash } from \"react-icons/fa\";\nimport { useState, useEffect } from 'react'\n\nexport default function Todo({todo, updateCheckData, updateTextData, deleteTodo}) {\n    // alterar o tamanho da textArea ao carregar a pagina\n    const [scrollHeight, setScrollHeight] = useState(0)\n    useEffect(() => {\n        setScrollHeight(document.querySelector(`#todo${todo.id} textarea`).scrollHeight)\n        // enquanto não resolvo o aviso de dependencia do \"todo.id\"\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[])\n\n    function checkBox(event) {\n        // altera a opacidade do elemento referente ao estado da checkbox\n        const parent = event.parentElement\n        if (event.checked) {\n            parent.style.opacity = 0.5\n        } else {\n            parent.style.opacity = 1\n        }\n        updateCheckData(todo.id)\n    }\n\n    return (\n        <div className=\"todo-content\" style={todo.check ? {opacity:0.5} : {opacity:1}}\n            id={`todo${todo.id}`}>\n            <input \n                type=\"checkbox\" \n                className=\"todo-check\" \n                defaultChecked={todo.check}\n                onChange={event => (checkBox(event.target))}>\n            </input>\n            <textarea \n                className=\"todo-text\" \n                rows=\"1\"\n                maxLength=\"300\"\n                defaultValue={todo.text}\n                spellCheck=\"false\"\n                onChange={event => {resize(event, 16);\n                                    updateTextData(todo.id, event.target.value)}}\n                style={{height: `${scrollHeight-4}px`}}\n                >\n            </textarea>\n            <h2 className=\"todo-delete\" onClick={() => deleteTodo(todo.id)}><FaTrash /></h2>\n        </div>\n    )\n}","import Todo from \"./Todo.js\"\nimport resize from \"./utility/resize.js\"\nimport { useState, useEffect} from 'react'\n\nexport default function Block({block, data, setData}) {\n    // alterar o tamanho da textArea ao abrir a pagina\n    const [scrollHeight, setScrollHeight] = useState(0)\n    useEffect(() => {\n        setScrollHeight(document.querySelector(`#block${block.id} textArea`).scrollHeight)\n        // enquanto não resolvo erro de dependencia com o \"block.id\"\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    // controla a opacidade do bloco\n    // iria por um useEfect para o data, porem eles esta atualizando sozinha, não entendi como\n    let complete = {opacity: 1}\n    if (block.todo.length > 0) {\n        complete = !block.todo.map(item => (item.check))\n                            .includes(false) ? {opacity:0.5} : {opacity: 1}\n    }\n    else {\n        complete = {opacity: 1}\n    }\n\n    function updateCheckData(id) {\n        // usado no Todo\n        // atualiza o check do todo no data\n        const newData = data.map(item => {item.todo.map(todo => {\n                if (todo.id === id) {\n                    todo.check = !todo.check\n                }\n                return todo})\n        return item})\n\n        setData(newData)\n    } \n\n    function updateTextData(id, newText) {\n        // usado no todo\n        // atualiza o text do todo no data\n        const newData = data.map(item => {item.todo.map(todo => {\n                if (todo.id === id) {\n                    todo.text = newText\n                }\n                return todo})\n        return item})\n        \n        setData(newData)\n    }\n\n    function updateTitleData(newTitle) {\n        // atualiza o titulo do bloco no data\n        const newData = data.map(item => {\n            if (item.id === block.id) {\n                item.title = newTitle\n            }\n        return item})\n\n        setData(newData)\n    }\n\n    function newTodo() {\n        // cria um novo To Do\n        const todo = {text: \"\", check: false, id: Math.floor(Math.random() * 10000)}\n        const newData = data.map(item => {\n            if (item.id === block.id) {\n                item.todo.push(todo)\n            }\n        return item})\n        setData(newData)\n    }\n\n    function deleteTodo(id) {\n        // deleta o To Do pelo id\n        const newData = data.map(item => {item.todo.map(todo => {\n            if (todo.id === id) {\n                const index = item.todo.indexOf(todo)\n                item.todo.splice(index, 1)\n            }\n            return todo})\n        return item})\n        \n        setData(newData)\n    }\n\n    function deleteBlock(id) {\n        // deleta o bloco pelo id\n        const newData = data.filter(item => (item.id !== id))\n        setData(newData)\n    }\n\n    return (\n        <div \n            className=\"block\" \n            id={`block${block.id}`}\n            style={complete}>\n            <header className=\"block-header\">\n                <textarea \n                    className=\"block-title\" \n                    spellCheck=\"false\" \n                    defaultValue={block.title}\n                    maxLength=\"100\"\n                    onChange={event => {updateTitleData(event.target.value)\n                                        resize(event, 48)}}\n                    style={{height: `${scrollHeight-12}px`}}\n                    >\n                </textarea>\n                <h2 className=\"block-delete\" onClick={() => (deleteBlock(block.id))}>X</h2>\n            </header>\n            <div className=\"block-content\">\n                {block.todo.map(item => (<Todo todo={item}\n                                            updateCheckData={updateCheckData}\n                                            updateTextData={updateTextData}\n                                            deleteTodo={deleteTodo}\n                                            key={item.id}/>))}\n                <button className=\"new-todo\" onClick={() => (newTodo())}>Novo To Do</button>\n            </div>\n        </div>\n    )\n}","import Block from \"./Block.js\"\n\nexport default function Blocks({data, setData}) {\n    return (\n        <section className=\"blocks-container\">\n            {data.map(block => (\n                <Block \n                    block={block}\n                    data={data}\n                    setData={setData}\n                    key={block.id}/>\n            ))}\n        </section>\n    )\n}","import './styles/import.css'\nimport Header from './scripts/Header.js'\nimport Blocks from './scripts/Blocks.js'\nimport { useState, useEffect, useRef } from 'react'\n\nfunction App() {\n  const [data, setData] = useState([])\n  // tentei definir direto mas retorna um erro ao ser usado \n  const unsaved = function() {return document.querySelector(\".header .unsaved\")}\n  \n  // utilizando 2 TEMPORARIAMENTE\n  // por algum motivo o useEffect do data ativa duas vezes ao carregar o site\n  const firstUpdate = useRef(2)\n  \n  useEffect(() => {\n    // carrega todos dados do localStorage quando o site é carregado\n    const storage = localStorage.getItem(\"blocksData\")\n    if (!storage) {\n      return localStorage.setItem(\"blocksData\", \"[]\")\n    }\n    \n    unsaved().style.opacity = 0\n    \n    const newData = JSON.parse(storage)\n    setData(newData)\n  }, [])\n  \n  \n  useEffect(() => {\n    // checagem de salvamento pós mudanças\n    if (firstUpdate.current > 0) {\n      firstUpdate.current -= 1\n      return\n    }\n    unsaved().style.opacity = 1\n  }, [data])\n  \n  function localSave() {\n    // salva no localStorage\n    localStorage.setItem(\"blocksData\", JSON.stringify(data))\n    unsaved().style.opacity = 0\n  }\n  \n  function createBlock() {\n    const id = Math.floor(Math.random() * 10000)\n\n    setData([...data, \n            {title: \"Novo Bloco\", todo: [], id: id}])\n  }\n\n  return (\n    <>\n      <Header localSave={localSave} createBlock={createBlock}/>\n      \n      <Blocks data={data} setData={setData}/>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}